<div class="container my-5">

  <div class="seeker-card">
    
    <div class="seeker-content">
      <% if @user.photo.attached? %>
        <%= cl_image_tag @user.photo.key, height: 300, width: 400, crop: :fill %>
      <% end %>
      
      <div class="seeker-description">
      <h2 class="seeker-name"><%= @user.name %></h2>
      
      <%= @user.description %></div>
    </div>
  </div>
   <% if @user.charity_id == current_user.charity_id %>
       <button type="button" class="btn btn-primary mt-4 w-100" data-toggle="modal" data-target="#request-modal">
        Add a request
      </button>
       <% end %>
  <div class="seeker-card">
    <% if @user.requests.present? %>
      <h3><%= @user.first_name %>'s requests: </h3>
      <ul>
        <% @user.requests.each do |request| %>
          <li>
            <%= link_to request.category.title, request_path(request) %>
          </li>
        <% end %>
      </ul>
      
    <% else %>
      <div class="seeker-requests-list">
        <%= @user.first_name %> currently doesnt have any requests!
        <button type="button" class="btn btn-primary mt-4" data-toggle="modal" data-target="#request-modal">
          Does <%= @user.first_name %> need anything?
        </button>
      </div>
    <% end %>
  </div>
</div>

<div class="modal fade" id="request-modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <%= render 'requests/form/form_content' %>
  </div>
</div>



